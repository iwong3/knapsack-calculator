(this["webpackJsonpknapsack-calculator"]=this["webpackJsonpknapsack-calculator"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(2),s=n.n(i),a=n(4),c=n.n(a),r=n(5),_=n(6),o=n(1),l=n(8),p=n(7),u=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},d=(n(13),n(0)),m=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).MAX_TARGET=9999.99,i.REGEX_DECIMALS=/(\.\d{0,1})$/,i.REGEX_PRICE=/^((\d)*(\.\d{0,2})?)$/,i.REGEX_PRICE_RTL=/^((\d)*(\.)?(\d)*)$/,i.SORT_BY_INPUT="input",i.SORT_BY_NAME="name",i.SORT_BY_PRICE="price",i.componentDidMount=function(){var e=document.getElementById("target-input");i.resizeInput(e)},i.calculate_solution=function(){i.reset_item_selections();var e=i.state.item_prices.map((function(e){return u(100*parseFloat(e),0)})),t=JSON.parse(JSON.stringify(i.state.inputs)),n=e.length,s=u(100*parseFloat(i.state.target),0),a=s,c=i.state.num_pinned_items;if(c>0){for(var r=i.state.pinned_items,_=[],o=[],l=0;l<r.length;l++)r[l]||(_.push(e[l]),o.push(l));e=_,t=o,n-=c;var p=u(100*parseFloat(i.state.pinned_total),0);a=u(a-p,2)}for(var d=new Array(n+1),m=0;m<=n;m++)d[m]=new Array(a+1),d[m][0]=0;for(var h=0;h<=a;h++)d[0][h]=0;for(var v=1;v<=n;v++)for(var g=1;g<=a;g++){var j=e[v-1],f=d[v-1][g];if(j<=g){var b=d[v-1][g-j]+j;d[v][g]=Math.max(b,f)}else d[v][g]=f}var O=i.state.pinned_total,x=u(d[n][a]/100,2),N=u(O+x,2),E=u(s/100-N,2);N=N.toFixed(2),E=E.toFixed(2);for(var k=i.state.item_selections,y=[],S=n,C=a;S>0&&C>0;)d[S][C]!==d[S-1][C]?(console.log("idx used: "+S),y.push(t[S-1]),C-=e[S-1],S--):S--;y.map((function(e){k[e]=!0})),i.setState({item_selections:k,remainder:E,total:N})},i.sort_items=function(e,t){for(var n=i.state.inputs,s=i.state.item_names,a=i.state.item_prices.map((function(e){return""===e&&(e="0.00"),u(parseFloat(e),2)})),c=i.state.item_selections,r=i.state.pinned_items,_=[],o=0;o<a.length;o++)_.push({input:n[o],name:s[o],price:a[o],selected:c[o],pinned:r[o]});i.sort_by_attr(_,e,t);for(var l=[],p=[],d=[],m=[],h=[],v=0;v<_.length;v++)l.push(_[v].input),p.push(_[v].name),d.push(_[v].price.toFixed(2)),m.push(_[v].selected),h.push(_[v].pinned);i.setState({inputs:l,item_names:p,item_prices:d,item_selections:m,pinned_items:h})},i.sort_by_attr=function(e,t,n){n?e.sort((function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0})):e.sort((function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}))},i.render_menu=function(){var e="unselected";return!0===i.state.menu_pin_selected&&(e="selected"),Object(d.jsxs)("div",{className:"main_menu",children:[Object(d.jsx)("div",{className:"menu_item-section-"+e,id:"clear-pins",children:Object(d.jsx)("div",{className:"clear_pins_icon",onClick:function(){i.clear_pins()}})}),Object(d.jsx)("div",{className:"menu_item-section",id:"space"}),Object(d.jsxs)("div",{className:"menu_item-section",id:"sort",children:[Object(d.jsx)("div",{className:"sort_button",onClick:function(){},children:"Sort By"}),Object(d.jsxs)("div",{className:"sort_menu",children:[Object(d.jsx)("div",{children:"A-Z"}),Object(d.jsx)("div",{children:"Z-A"})]})]})]})},i.clear_pins=function(){i.setState({num_pinned_items:0,pinned_items:new Array(i.state.pinned_items.length).fill(!1),pinned_total:0},(function(){this.reset_item_selections()}))},i.render_input=function(e){var t="unselected";!0===i.state.item_selections[e]&&(t="selected");var n="unselected";return!0===i.state.pinned_items[e]&&(n="selected"),Object(d.jsxs)("div",{className:"input_group-"+t,children:[Object(d.jsx)("div",{className:"input_group-section",id:"pin",children:Object(d.jsx)("div",{className:"pin_icon-"+n,onClick:function(t){i.toggle_pin_input(t,e)}})}),Object(d.jsx)("div",{className:"input_group-section",id:"name",children:Object(d.jsx)("input",{className:"input_group-input-name-"+t,type:"text",placeholder:"Enter Item",value:i.state.item_names[e],onChange:function(t){return i.handle_item_name_change(t,e)},onKeyDown:function(t){return i.handle_enter(t,e)}})}),Object(d.jsxs)("div",{className:"input_group-section",id:"price",children:[Object(d.jsx)("div",{className:"input_group-label",children:"$"}),Object(d.jsx)("input",{className:"input_group-input-price-"+t,type:"text",inputMode:"numeric",placeholder:"0.00",value:i.state.item_prices[e],onClick:function(t){return i.handle_item_price_click(t,e)},onChange:function(t){return i.handle_item_price_change(t,e)},onBlur:function(t){return i.check_price(t,e)}})]}),Object(d.jsx)("div",{className:"input_group-section",id:"close",children:Object(d.jsx)("div",{className:"remove_icon",onClick:function(t){i.remove_input(t,e)}})})]},e)},i.resizeInput=function(e){e.style.width=e.value.length+"ch"},i.append_input=function(e){var t=i.state.inputs,n=i.state.item_names,s=i.state.item_prices,a=i.state.item_selections,c=i.state.pinned_items;t=t.concat([i.state.inputs.length]),-1===e?(n=n.concat(""),s=s.concat(""),a=a.concat(!1),c=c.concat(!1)):(n.splice(e,0,""),s.splice(e,0,""),a.splice(e,0,!1),c.splice(e,0,!1)),i.setState({inputs:t,item_names:n,item_prices:s,item_selections:a,pinned_items:c},(function(){this.reset_item_selections()}))},i.remove_input=function(e,t){e.preventDefault();var n=i.state.inputs,s=i.state.item_names,a=i.state.item_prices,c=i.state.item_selections,r=i.state.pinned_items;r[t]&&i.toggle_pin_input(e,t),n.pop(),s.splice(t,1),a.splice(t,1),c.splice(t,1),r.splice(t,1),i.setState({inputs:n,item_names:s,item_prices:a,item_selections:c,pinned_items:r},(function(){this.reset_item_selections()}))},i.handle_enter=function(e,t){"Enter"===e.key&&(i.append_input(t+1),i.reset_item_selections())},i.handle_target_click=function(e){var t=e.target.value;document.getElementById("target-input").setAttribute("placeholder",t);i.state.target;i.setState({saved_price:t,target:""},(function(){this.reset_item_selections()}))},i.handle_target_change=function(e){var t=e.target.value;if(i.REGEX_PRICE.test(t)){var n=u(parseFloat(t),2);(isNaN(n)||n<=i.MAX_TARGET)&&i.setState({target:t},(function(){this.reset_item_selections()}))}},i.toggle_pin_input=function(e,t){var n=i.state.pinned_items,s=i.state.pinned_total,a=i.state.item_prices,c=u(parseFloat(a[t]),2);if(""===a[t]){var r=i.state.saved_price;c=u(parseFloat(r),2)}var _=i.state.num_pinned_items;n[t]?(n[t]=!1,s=u(s-c,2),_-=1):s+c<=u(parseFloat(i.state.target),2)&&(n[t]=!0,s=u(s+c,2),_+=1);i.setState({num_pinned_items:_,pinned_items:n,pinned_total:s},(function(){this.reset_item_selections()}))},i.handle_item_name_change=function(e,t){var n=i.state.item_names;n[t]=e.target.value,i.setState({item_names:n},(function(){this.reset_item_selections()}))},i.handle_item_price_click=function(e,t){var n=e.target.value,s=n;""===s&&(s="0.00");for(var a=i.state.pinned_items,c=0,r=0;r<t;r++)a[r]&&c++;a[t]?document.getElementsByClassName("input_group-input-price-selected")[c].setAttribute("placeholder",s):document.getElementsByClassName("input_group-input-price-unselected")[t-c].setAttribute("placeholder",s);var _=i.state.item_prices;_[t]="",i.setState({item_prices:_,saved_price:n},(function(){this.reset_item_selections()}))},i.handle_item_price_change=function(e,t){i.state.pinned_items[t]&&i.toggle_pin_input(e,t);var n=e.target.value;if(i.REGEX_PRICE.test(n)){var s=i.state.item_prices;s[t]=n,i.setState({item_prices:s},(function(){this.reset_item_selections()}))}},i.format_price_string=function(e){return"."===(e=(e=i.format_decimals_string(e)).replace(/^0+/,"")).slice(0,1)&&(e="0"+e),e},i.format_decimals_string=function(e){return e.includes(".")?i.REGEX_DECIMALS.test(e)?"."===e.slice(-1)?e+"00":e+"0":e:e+".00"},i.check_price=function(e,t){var n=e.target.value,s=i.state.saved_price;""===n&&""!==s&&(n=s),s="",n=i.format_price_string(n);var a=i.state.item_prices;a[t]=n,i.setState({item_prices:a,saved_price:s},(function(){this.reset_item_selections()}))},i.check_target=function(e){var t=e.target.value,n=i.state.saved_price;""===t&&""!==n&&(t=n),n="",t=i.format_price_string(t),i.setState({target:t},(function(){var e=document.getElementById("target-input");this.resizeInput(e),this.reset_item_selections()}))},i.reset_item_selections=function(){var e=JSON.parse(JSON.stringify(i.state.pinned_items)),t=i.state.pinned_total,n=i.format_price_string(""+t),s=u(i.state.target-t,2),a=i.format_price_string(""+s);i.setState({item_selections:e,remainder:a,total:n})},i.state={inputs:[0,1,2,3,4],item_names:["soda","watermelon","chips","pomegranate","pie"],item_prices:["0.99","5.99","1.99","2.99","3.14"],item_selections:[!1,!1,!1,!1,!1],num_pinned_items:0,pinned_items:[!1,!1,!1,!1,!1],pinned_total:0,remainder:"10.00",saved_price:"",target:"10.00",total:"0.00"},i.calculate_solution=i.calculate_solution.bind(Object(o.a)(i)),i.render_input=i.render_input.bind(Object(o.a)(i)),i.append_input=i.append_input.bind(Object(o.a)(i)),i.remove_input=i.remove_input.bind(Object(o.a)(i)),i.handle_item_name_change=i.handle_item_name_change.bind(Object(o.a)(i)),i.handle_item_price_change=i.handle_item_price_change.bind(Object(o.a)(i)),i.handle_target_change=i.handle_target_change.bind(Object(o.a)(i)),i.check_price=i.check_price.bind(Object(o.a)(i)),i.check_target=i.check_target.bind(Object(o.a)(i)),i.reset_item_selections=i.reset_item_selections.bind(Object(o.a)(i)),i}return Object(_.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"KnapsackCalculator",children:[Object(d.jsxs)("div",{className:"header_top",children:[Object(d.jsxs)("div",{className:"header_top_main",children:[Object(d.jsx)("div",{className:"header_top_main-label",children:"Budget"}),Object(d.jsxs)("div",{className:"header_top_main-input",children:[Object(d.jsx)("div",{className:"header_top_main-input-label",children:"$"}),Object(d.jsx)("input",{className:"input_group-input",id:"target-input",type:"text",inputMode:"numeric",value:this.state.target,onClick:function(t){return e.handle_target_click(t)},onChange:function(t){return e.handle_target_change(t)},onBlur:function(t){return e.check_target(t)}})]})]}),Object(d.jsxs)("div",{className:"header_top_secondary",children:[Object(d.jsxs)("div",{className:"header_top_secondary-section",id:"total",children:[Object(d.jsx)("div",{className:"header_top_secondary-label",children:"Total"}),Object(d.jsx)("div",{className:"header_top_secondary-value",children:"$"+this.state.total})]}),Object(d.jsxs)("div",{className:"header_top_secondary-section",id:"remaining",children:[Object(d.jsx)("div",{className:"header_top_secondary-label",children:"Remaining"}),Object(d.jsx)("div",{className:"header_top_secondary-value",children:"$"+this.state.remainder})]})]})]}),this.render_menu(),Object(d.jsx)("form",{children:this.state.inputs.map((function(t,n){return e.render_input(n)}))}),Object(d.jsxs)("div",{className:"button_group",children:[Object(d.jsx)("div",{className:"button",id:"add-item",onClick:function(){return e.append_input(-1)}}),Object(d.jsx)("div",{className:"button",id:"calculate",onClick:function(){return e.calculate_solution()}})]})]})}}]),n}(i.Component),h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),s(e),a(e),c(e)}))};n(15);c.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),h()}},[[16,1,2]]]);
//# sourceMappingURL=main.8a9b4779.chunk.js.map