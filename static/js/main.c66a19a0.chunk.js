(this["webpackJsonpknapsack-calculator"]=this["webpackJsonpknapsack-calculator"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(2),a=n.n(i),s=n(4),c=n.n(s),r=n(5),l=n(6),o=n(1),u=n(8),_=n(7),d=(n(13),n(0)),p=function(e){Object(u.a)(n,e);var t=Object(_.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).MAX_TARGET=9999.99,i.REGEX_DECIMALS=/(\.\d{0,1})$/,i.REGEX_PRICE=/^((\d)*(\.\d{0,2})?)$/,i.REGEX_PRICE_RTL=/^((\d)*(\.)?(\d)*)$/,i.componentDidMount=function(){var e=document.getElementById("target-input");i.resizeInput(e)},i.calculate_solution=function(){i.reset_item_selections();var e=i.state.item_prices.map((function(e){return i.toFixedNumber(100*parseFloat(e),0)})),t=JSON.parse(JSON.stringify(i.state.inputs)),n=e.length,a=i.toFixedNumber(100*parseFloat(i.state.target),0),s=a,c=i.state.num_pinned_items;if(c>0){for(var r=i.state.pinned_items,l=[],o=[],u=0;u<r.length;u++)r[u]||(l.push(e[u]),o.push(u));e=l,t=o,n-=c;var _=i.toFixedNumber(100*parseFloat(i.state.pinned_total),0);s=i.toFixedNumber(s-_,2)}for(var d=new Array(n+1),p=0;p<=n;p++)d[p]=new Array(s+1),d[p][0]=0;for(var m=0;m<=s;m++)d[0][m]=0;for(var h=1;h<=n;h++)for(var g=1;g<=s;g++){var v=e[h-1],b=d[h-1][g];if(v<=g){var f=d[h-1][g-v]+v;d[h][g]=Math.max(f,b)}else d[h][g]=b}var j=i.state.pinned_total,x=i.toFixedNumber(d[n][s]/100,2),N=i.toFixedNumber(j+x,2),O=i.toFixedNumber(a/100-N,2);N=N.toFixed(2),O=O.toFixed(2);for(var E=i.state.item_selections,F=[],k=n,C=s;k>0&&C>0;)d[k][C]!==d[k-1][C]?(console.log("idx used: "+k),F.push(t[k-1]),C-=e[k-1],k--):k--;F.map((function(e){E[e]=!0})),i.setState({item_selections:E,remainder:O,total:N})},i.toFixedNumber=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},i.render_input=function(e){var t="unselected";!0===i.state.item_selections[e]&&(t="selected");var n="unselected";return!0===i.state.pinned_items[e]&&(n="selected"),Object(d.jsxs)("div",{className:"input_group-"+t,children:[Object(d.jsx)("div",{className:"input_group-section",id:"pin",children:Object(d.jsx)("div",{className:"pin_icon-"+n,onClick:function(t){i.toggle_pin_input(t,e)}})}),Object(d.jsx)("div",{className:"input_group-section",id:"name",children:Object(d.jsx)("input",{className:"input_group-input-name-"+t,type:"text",placeholder:"Enter Item",value:i.state.item_names[e],onChange:function(t){return i.handle_item_name_change(t,e)},onKeyDown:function(t){return i.handle_enter(t,e)}})}),Object(d.jsxs)("div",{className:"input_group-section",id:"price",children:[Object(d.jsx)("div",{className:"input_group-label",children:"$"}),Object(d.jsx)("input",{className:"input_group-input-price-"+t,type:"text",inputMode:"numeric",placeholder:"0.00",value:i.state.item_prices[e],onClick:function(t){return i.handle_item_price_click(t,e)},onChange:function(t){return i.handle_item_price_change(t,e)},onBlur:function(t){return i.check_price(t,e)}})]}),Object(d.jsx)("div",{className:"input_group-section",id:"close",children:Object(d.jsx)("div",{className:"remove_icon",onClick:function(t){i.remove_input(t,e)}})})]},e)},i.resizeInput=function(e){e.style.width=e.value.length+"ch"},i.append_input=function(e){var t=i.state.inputs,n=i.state.item_names,a=i.state.item_prices,s=i.state.item_selections,c=i.state.pinned_items;t=t.concat([i.state.inputs.length]),-1===e?(n=n.concat(""),a=a.concat(""),s=s.concat(!1),c=c.concat(!1)):(n.splice(e,0,""),a.splice(e,0,""),s.splice(e,0,!1),c.splice(e,0,!1)),i.setState({inputs:t,item_names:n,item_prices:a,item_selections:s,pinned_items:c},(function(){this.reset_item_selections()}))},i.remove_input=function(e,t){e.preventDefault();var n=i.state.inputs,a=i.state.item_names,s=i.state.item_prices,c=i.state.item_selections,r=i.state.pinned_items;r[t]&&i.toggle_pin_input(e,t),n.pop(),a.splice(t,1),s.splice(t,1),c.splice(t,1),r.splice(t,1),i.setState({inputs:n,item_names:a,item_prices:s,item_selections:c,pinned_items:r},(function(){this.reset_item_selections()}))},i.handle_enter=function(e,t){"Enter"===e.key&&(i.append_input(t+1),i.reset_item_selections())},i.handle_target_click=function(e){var t=e.target.value;document.getElementById("target-input").setAttribute("placeholder",t);i.state.target;i.setState({saved_price:t,target:""},(function(){this.reset_item_selections()}))},i.handle_target_change=function(e){var t=e.target.value;if(i.REGEX_PRICE.test(t)){var n=i.toFixedNumber(parseFloat(t),2);(isNaN(n)||n<=i.MAX_TARGET)&&i.setState({target:t},(function(){this.reset_item_selections()}))}},i.toggle_pin_input=function(e,t){var n=i.state.pinned_items,a=i.state.pinned_total,s=i.state.item_prices,c=i.toFixedNumber(parseFloat(s[t]),2);if(""===s[t]){var r=i.state.saved_price;c=i.toFixedNumber(parseFloat(r),2)}var l=i.state.num_pinned_items;n[t]?(n[t]=!1,a=i.toFixedNumber(a-c,2),l-=1):a+c<=i.toFixedNumber(parseFloat(i.state.target),2)&&(n[t]=!0,a=i.toFixedNumber(a+c,2),l+=1);i.setState({num_pinned_items:l,pinned_items:n,pinned_total:a},(function(){this.reset_item_selections()}))},i.handle_item_name_change=function(e,t){var n=i.state.item_names;n[t]=e.target.value,i.setState({item_names:n},(function(){this.reset_item_selections()}))},i.handle_item_price_click=function(e,t){var n=e.target.value,a=n;""===a&&(a="0.00");for(var s=i.state.pinned_items,c=0,r=0;r<t;r++)s[r]&&c++;s[t]?document.getElementsByClassName("input_group-input-price-selected")[c].setAttribute("placeholder",a):document.getElementsByClassName("input_group-input-price-unselected")[t-c].setAttribute("placeholder",a);var l=i.state.item_prices;l[t]="",i.setState({item_prices:l,saved_price:n},(function(){this.reset_item_selections()}))},i.handle_item_price_change=function(e,t){i.state.pinned_items[t]&&i.toggle_pin_input(e,t);var n=e.target.value;if(i.REGEX_PRICE.test(n)){var a=i.state.item_prices;a[t]=n,i.setState({item_prices:a},(function(){this.reset_item_selections()}))}},i.format_price_string=function(e){return"."===(e=(e=i.format_decimals_string(e)).replace(/^0+/,"")).slice(0,1)&&(e="0"+e),e},i.format_decimals_string=function(e){return e.includes(".")?i.REGEX_DECIMALS.test(e)?"."===e.slice(-1)?e+"00":e+"0":e:e+".00"},i.check_price=function(e,t){var n=e.target.value,a=i.state.saved_price;""===n&&""!==a&&(n=a),a="",n=i.format_price_string(n);var s=i.state.item_prices;s[t]=n,i.setState({item_prices:s,saved_price:a},(function(){this.reset_item_selections()}))},i.check_target=function(e){var t=e.target.value,n=i.state.saved_price;""===t&&""!==n&&(t=n),n="",t=i.format_price_string(t),i.setState({target:t},(function(){var e=document.getElementById("target-input");this.resizeInput(e),this.reset_item_selections()}))},i.reset_item_selections=function(){var e=JSON.parse(JSON.stringify(i.state.pinned_items)),t=i.state.pinned_total,n=i.format_price_string(""+t),a=i.toFixedNumber(i.state.target-t,2),s=i.format_price_string(""+a);i.setState({item_selections:e,remainder:s,total:n})},i.state={inputs:[0,1,2,3,4],item_names:["soda","watermelon","chips","pomegranate","pie"],item_prices:["0.99","5.99","1.99","2.99","3.14"],item_selections:[!1,!1,!1,!1,!1],num_pinned_items:0,pinned_items:[!1,!1,!1,!1,!1],pinned_total:0,remainder:"10.00",saved_price:"",target:"10.00",total:"0.00"},i.calculate_solution=i.calculate_solution.bind(Object(o.a)(i)),i.render_input=i.render_input.bind(Object(o.a)(i)),i.append_input=i.append_input.bind(Object(o.a)(i)),i.remove_input=i.remove_input.bind(Object(o.a)(i)),i.handle_item_name_change=i.handle_item_name_change.bind(Object(o.a)(i)),i.handle_item_price_change=i.handle_item_price_change.bind(Object(o.a)(i)),i.handle_target_change=i.handle_target_change.bind(Object(o.a)(i)),i.check_price=i.check_price.bind(Object(o.a)(i)),i.check_target=i.check_target.bind(Object(o.a)(i)),i.reset_item_selections=i.reset_item_selections.bind(Object(o.a)(i)),i}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"KnapsackCalculator",children:[Object(d.jsxs)("div",{className:"header_top",children:[Object(d.jsxs)("div",{className:"header1",children:[Object(d.jsx)("div",{className:"header1-label",children:"Budget"}),Object(d.jsxs)("div",{className:"header1-input",children:[Object(d.jsx)("div",{className:"header1-input-label",children:"$"}),Object(d.jsx)("input",{className:"input_group-input",id:"target-input",type:"text",value:this.state.target,onClick:function(t){return e.handle_target_click(t)},onChange:function(t){return e.handle_target_change(t)},onBlur:function(t){return e.check_target(t)}})]})]}),Object(d.jsxs)("div",{className:"header2",children:[Object(d.jsxs)("div",{className:"header2-section",children:[Object(d.jsx)("div",{className:"header2-label",children:"Total"}),Object(d.jsx)("div",{className:"header2-value",children:"$"+this.state.total})]}),Object(d.jsxs)("div",{className:"header2-section",children:[Object(d.jsx)("div",{className:"header2-label",children:"Remaining"}),Object(d.jsx)("div",{className:"header2-value",children:"$"+this.state.remainder})]})]})]}),Object(d.jsx)("form",{children:this.state.inputs.map((function(t){return e.render_input(t)}))}),Object(d.jsxs)("div",{className:"button_group",children:[Object(d.jsx)("div",{className:"button",id:"add-item",onClick:function(){return e.append_input(-1)}}),Object(d.jsx)("div",{className:"button",id:"calculate",onClick:function(){return e.calculate_solution()}})]})]})}}]),n}(i.Component),m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),s(e),c(e)}))};n(15);c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.c66a19a0.chunk.js.map