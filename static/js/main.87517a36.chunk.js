(this["webpackJsonpknapsack-calculator"]=this["webpackJsonpknapsack-calculator"]||[]).push([[0],{13:function(e,t,i){},15:function(e,t,i){},16:function(e,t,i){"use strict";i.r(t);var n=i(2),a=i.n(n),s=i(4),c=i.n(s),r=i(5),o=i(6),_=i(1),l=i(8),u=i(7),d=(i(13),i(0)),p=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).MAX_TARGET=9999.99,n.REGEX_DECIMALS=/(\.\d{0,1})$/,n.REGEX_PRICE=/^((\d)*(\.\d{0,2})?)$/,n.REGEX_PRICE_RTL=/^((\d)*(\.)?(\d)*)$/,n.calculate_solution=function(){n.reset_item_selections();var e=n.state.item_prices.map((function(e){return n.toFixedNumber(100*parseFloat(e),0)})),t=JSON.parse(JSON.stringify(n.state.inputs)),i=e.length,a=n.toFixedNumber(100*parseFloat(n.state.target),0),s=a,c=n.state.num_pinned_items;if(c>0){for(var r=n.state.pinned_items,o=[],_=[],l=0;l<r.length;l++)r[l]||(o.push(e[l]),_.push(l));e=o,t=_,i-=c;var u=n.toFixedNumber(100*parseFloat(n.state.pinned_total),0);s=n.toFixedNumber(s-u,2)}for(var d=new Array(i+1),p=0;p<=i;p++)d[p]=new Array(s+1),d[p][0]=0;for(var m=0;m<=s;m++)d[0][m]=0;for(var h=1;h<=i;h++)for(var b=1;b<=s;b++){var g=e[h-1],v=d[h-1][b];if(g<=b){var f=d[h-1][b-g]+g;d[h][b]=Math.max(f,v)}else d[h][b]=v}var j=n.state.pinned_total,x=n.toFixedNumber(d[i][s]/100,2),N=n.toFixedNumber(j+x,2),O=n.toFixedNumber(a/100-N,2);N=N.toFixed(2),O=O.toFixed(2);for(var F=n.state.item_selections,k=[],E=i,C=s;E>0&&C>0;)d[E][C]!==d[E-1][C]?(console.log("idx used: "+E),k.push(t[E-1]),C-=e[E-1],E--):E--;k.map((function(e){F[e]=!0})),n.setState({item_selections:F,remainder:O,total:N})},n.toFixedNumber=function(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i},n.render_input=function(e){var t="unselected";!0===n.state.item_selections[e]&&(t="selected");var i="unselected";return!0===n.state.pinned_items[e]&&(i="selected"),Object(d.jsxs)("div",{className:"input_group",id:t,children:[Object(d.jsx)("div",{className:"input_group-section",id:"pin",children:Object(d.jsx)("div",{className:"pin_icon",id:i,onClick:function(t){n.toggle_pin_input(t,e)}})}),Object(d.jsx)("div",{className:"input_group-section",id:"name",children:Object(d.jsx)("input",{className:"input_group-input",id:t,type:"text",placeholder:"Enter Item",value:n.state.item_names[e],onChange:function(t){return n.handle_item_name_change(t,e)},onKeyDown:function(t){return n.handle_enter(t,e)}})}),Object(d.jsxs)("div",{className:"input_group-section",id:"price",children:[Object(d.jsx)("div",{className:"input_group-label",children:"$"}),Object(d.jsx)("input",{className:"input_group-input",id:t,type:"text",placeholder:"0.00",value:n.state.item_prices[e],onClick:function(t){return n.handle_item_price_click(t,e)},onChange:function(t){return n.handle_item_price_change(t,e)},onBlur:function(t){return n.check_price(t,e)}})]}),Object(d.jsx)("div",{className:"input_group-section",id:"close",children:Object(d.jsx)("div",{className:"remove_icon",onClick:function(t){n.remove_input(t,e)}})})]},e)},n.append_input=function(e){var t=n.state.inputs,i=n.state.item_names,a=n.state.item_prices,s=n.state.item_selections,c=n.state.pinned_items;t=t.concat([n.state.inputs.length]),-1===e?(i=i.concat(""),a=a.concat(""),s=s.concat(!1),c=c.concat(!1)):(i.splice(e,0,""),a.splice(e,0,""),s.splice(e,0,!1),c.splice(e,0,!1)),n.setState({inputs:t,item_names:i,item_prices:a,item_selections:s,pinned_items:c},(function(){this.reset_item_selections()}))},n.remove_input=function(e,t){e.preventDefault();var i=n.state.inputs,a=n.state.item_names,s=n.state.item_prices,c=n.state.item_selections,r=n.state.pinned_items;r[t]&&n.toggle_pin_input(e,t),i.pop(),a.splice(t,1),s.splice(t,1),c.splice(t,1),r.splice(t,1),n.setState({inputs:i,item_names:a,item_prices:s,item_selections:c,pinned_items:r},(function(){this.reset_item_selections()}))},n.handle_enter=function(e,t){"Enter"===e.key&&(n.append_input(t+1),n.reset_item_selections())},n.handle_target_change=function(e){var t=e.target.value.substring(1);if(n.REGEX_PRICE.test(t)){var i=n.toFixedNumber(parseFloat(t),2);(isNaN(i)||i<=n.MAX_TARGET)&&n.setState({target:t},(function(){this.reset_item_selections()}))}},n.toggle_pin_input=function(e,t){var i=n.state.pinned_items,a=n.state.pinned_total,s=n.state.item_prices,c=n.toFixedNumber(parseFloat(s[t]),2);if(""===s[t]){var r=n.state.saved_price;c=n.toFixedNumber(parseFloat(r),2)}var o=n.state.num_pinned_items;i[t]?(i[t]=!1,a=n.toFixedNumber(a-c,2),o-=1):a+c<=n.toFixedNumber(parseFloat(n.state.target),2)&&(i[t]=!0,a=n.toFixedNumber(a+c,2),o+=1);n.setState({num_pinned_items:o,pinned_items:i,pinned_total:a},(function(){this.reset_item_selections()}))},n.handle_item_name_change=function(e,t){var i=n.state.item_names;i[t]=e.target.value,n.setState({item_names:i},(function(){this.reset_item_selections()}))},n.handle_item_price_click=function(e,t){var i=e.target.value,a=n.state.item_prices;a[t]="",n.setState({item_prices:a,saved_price:i},(function(){this.reset_item_selections()}))},n.handle_item_price_change=function(e,t){n.state.pinned_items[t]&&n.toggle_pin_input(e,t);var i=e.target.value;if(n.REGEX_PRICE.test(i)){var a=n.state.item_prices;a[t]=i,n.setState({item_prices:a},(function(){this.reset_item_selections()}))}},n.format_price_string=function(e){return"."===(e=(e=n.format_decimals_string(e)).replace(/^0+/,"")).slice(0,1)&&(e="0"+e),e},n.format_decimals_string=function(e){return e.includes(".")?n.REGEX_DECIMALS.test(e)?"."===e.slice(-1)?e+"00":e+"0":e:e+".00"},n.check_price=function(e,t){var i=e.target.value,a=n.state.saved_price;""===i&&""!==a&&(i=a),a="",i=n.format_price_string(i);var s=n.state.item_prices;s[t]=i,n.setState({item_prices:s,saved_price:a},(function(){this.reset_item_selections()}))},n.check_target=function(e){var t=e.target.value.substring(1);t=n.format_price_string(t),n.setState({target:t},(function(){this.reset_item_selections()}))},n.reset_item_selections=function(){var e=JSON.parse(JSON.stringify(n.state.pinned_items)),t=n.state.pinned_total,i=n.format_price_string(""+t),a=n.toFixedNumber(n.state.target-t,2),s=n.format_price_string(""+a);n.setState({item_selections:e,remainder:s,total:i})},n.state={inputs:[0,1,2,3,4],item_names:["soda","watermelon","chips","pomegranate","pie"],item_prices:["0.99","5.99","1.99","2.99","3.14"],item_selections:[!1,!1,!1,!1,!1],num_pinned_items:0,pinned_items:[!1,!1,!1,!1,!1],pinned_total:0,remainder:"10.00",saved_price:"",target:"10.00",total:"0.00"},n.calculate_solution=n.calculate_solution.bind(Object(_.a)(n)),n.render_input=n.render_input.bind(Object(_.a)(n)),n.append_input=n.append_input.bind(Object(_.a)(n)),n.remove_input=n.remove_input.bind(Object(_.a)(n)),n.handle_item_name_change=n.handle_item_name_change.bind(Object(_.a)(n)),n.handle_item_price_change=n.handle_item_price_change.bind(Object(_.a)(n)),n.handle_target_change=n.handle_target_change.bind(Object(_.a)(n)),n.check_price=n.check_price.bind(Object(_.a)(n)),n.check_target=n.check_target.bind(Object(_.a)(n)),n.reset_item_selections=n.reset_item_selections.bind(Object(_.a)(n)),n}return Object(o.a)(i,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"KnapsackCalculator",children:[Object(d.jsxs)("div",{className:"header_top",children:[Object(d.jsxs)("div",{className:"header1",children:[Object(d.jsx)("div",{className:"header1-label",children:"Budget"}),Object(d.jsx)("input",{className:"input_group-input",id:"target-input",type:"text",value:"$"+this.state.target,onChange:function(t){return e.handle_target_change(t)},onBlur:function(t){return e.check_target(t)}})]}),Object(d.jsxs)("div",{className:"header2",children:[Object(d.jsxs)("div",{className:"header2-section",children:[Object(d.jsx)("div",{className:"header2-label",children:"Total"}),Object(d.jsx)("div",{className:"header2-value",children:"$"+this.state.total})]}),Object(d.jsxs)("div",{className:"header2-section",children:[Object(d.jsx)("div",{className:"header2-label",children:"Remaining"}),Object(d.jsx)("div",{className:"header2-value",children:"$"+this.state.remainder})]})]})]}),Object(d.jsx)("form",{children:this.state.inputs.map((function(t){return e.render_input(t)}))}),Object(d.jsxs)("div",{className:"button_group",children:[Object(d.jsx)("div",{className:"button",id:"add-item",onClick:function(){return e.append_input(-1)},children:"Add Item"}),Object(d.jsx)("div",{className:"button",id:"calculate",onClick:function(){return e.calculate_solution()},children:"Calculate"})]})]})}}]),i}(n.Component),m=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;i(e),n(e),a(e),s(e),c(e)}))};i(15);c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.87517a36.chunk.js.map